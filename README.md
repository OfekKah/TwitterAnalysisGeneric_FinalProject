# Social Network Group Analysis Package

This project is a Generic Social Network Group Analysis Package implemented in Python. It allows for the analysis of group interactions on social networks, focusing on:
- Exploratory Data Analysis (EDA)
- Sentiment and Emotion Analysis
- Topic Modeling

The package is designed to process and analyze data efficiently, offering a robust foundation for understanding group behavior, key themes, and sentiment distribution.

---

## Features

1. **EDA**:
   - **Analysis of Social Network Data**:
      - Accepts a database containing `authors` and `posts` tables.
      - Performs population-specific analysis if the `label` column exists in the `authors` table.
   - **Location Analysis**:
      - Extracts country information using the Llama model from the `location` column in the `authors` table.
2. **Sentiment, Emotion, and Hate Speech Analysis:**:
   - Performs analysis using three pre-trained deep learning models for `sentiment`, `emotion`, and `hate speech` detection.
   - Detects sentiment polarity (positive/negative/neutral) and emotion probabilities (e.g., joy, sadness, anger).
   - The output of running the model is saved in a dedicated directory.
   - Inside output directory, three TSV files contain the analysis results for each model: emotion_results.tsv, sentiment_results.tsv, and hate_speech_results.tsv. These files include processed data such as authors, dates, content, and calculated statistics related to each respective analysis type.
   - The output directory contains three subdirectories: emotion_analysis_graphs, sentiment_analysis_graphs, and hate_speech_analysis_graphs, which store visual graphs generated from the analysis results.
3. **Topic Modeling**:
   - Extracts the main themes from social network group posts using techniques like Latent Dirichlet Allocation (LDA) or Non-Negative Matrix Factorization (NMF).
---

## Requirements

To install all required dependencies, use the `requirements.txt` file:

```bash
pip install -r requirements.txt
```

---

## Usage

**Database Requirements**

The database must include the following tables and columns with the exact names:

- **Posts Table**:
  
   Columns:
     - `author`
     - `author_screen_name`
     - `date`
  
- **Authors Table**:
  
   Columns:
     - `friends_count`
     - `followers_count`
     - `statuses_count`
     - `location`
     - `content`
  
   Optional: `label` column for group-based analysis.

---

## Outputs

1. **EDA**:
   The following outputs are generated by the script:
   - **PNG Graphs**:
     
      **When analyzing more than one population, the following graphs are created and saved as PNG files:**
     
      For each population:
      - Population_X_followers_count_range
      - Population_X_friends_count_range
      - Population_X_statuses_count_range
      - Population_X_top_authors
      - Population_X_top_countries
      - Population_X_tweet_distribution
      
      Multi-Population Comparative Graphs:
      - Followers_Count_vs_Posts_Count_for_All_Groups
      - Followers_Count_Range_Merged
      - Friends_Count_Range_Merged
      - Posts_Count_Range_Merged
      - Tweet_Distribution_by_Month_for_All_Groups
    
       **When analyzing one population, the following graphs are created and saved as PNG files:**
     
      - All_Populations_followers_count_range
      - All_Populations_friends_count_range
      - All_Populations_statuses_count_range
      - All_Populations_top_authors
      - All_Populations_top_countries
      - All_Populations_tweet_distribution
      - Tweet_Distribution_by_Month_for_All_Populations
      - Followers_Count_vs_Posts_Count_for_All_Populations
   
   - **Summary Statistics**:
     
     A CSV file named summary_statistics.csv, containing aggregated statistics for the following columns:
      - `friends_count`
      - `followers_count`
      - `statuses_count`
    
     Additionally, the CSV includes a group column to indicate the population to which the statistics belong.

---

## Authors
- Shay Herling 
- Ofek Kachlon
- Eden Naroditsky
- Shahar Revivo
